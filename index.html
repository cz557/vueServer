<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>登录页</title>
    <script
  src="https://code.jquery.com/jquery-3.4.1.min.js"
  crossorigin="anonymous"></script>
</head>
<body>
    
    <!-- 方式1：表单提交  -->
    <!-- <form action="/login" method="POST">
        用户名: <input type="text" name="username"/>  <br>
        密码: <input type="password" name="pwd"/>
        <input type="submit" value="Submit"/>
    </form> -->

    <!-- 方式2：ajax提交 -->
    <form  method="POST" id="form">
        用户名: <input type="text" name="username" id="username" required/>  <br>
        密码: <input type="password" name="pwd" id="pwd" required/>
        <!-- <input type="submit" value="Submit"/> -->
    </form>


    <button id="authbtn"> 登录验证 </button>

    <script>

    // let token = null;
    // $("#form").submit(function(e){
    //     // 阻止默认事件，防止页面跳转
    //     e.preventDefault();
   
    //     //获取用户名，密码
    //     let username = $("#username").val();
    //     let pwd = $("#pwd").val();

    //     if(username && pwd){
    //         $.post("http://127.0.0.1:8000/login",{username,pwd},res=>{
    //             console.log(res)
    //             localStorage.token = res.token;
    //         })
    //     }
    // })

    $("#authbtn").click(function(){

        // let token = localStorage.token;
        // $.ajax({
        //     url:"http://localhost:8000/checkUser",
        //     type:"POST",
        //     headers:{
        //         Authorization:token
        //     },
        //     success:res=>{
        //         console.log(res)
        //     }
        // })
        let username = $("#username").val();
        let pwd = $("#pwd").val();
        if(username&&pwd){
            $.post('http://127.0.0.1:8000/login',{username,pwd},res=>{
                console.log(res)
            })
        }
    })
    
    </script>

</body>
</html>